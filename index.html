<!DOCTYPE html>
<html lang="id" class="bg-gray-900">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Sistem Pakan Ikan Otomatis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mqtt/4.3.7/mqtt.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body class="text-slate-100">

    <main class="container mx-auto max-w-6xl p-4 md:p-6">
        <header class="text-center mb-8">
            <h1
                class="text-2xl md:text-3xl font-bold flex items-center justify-center gap-3 text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-400">
                <i class="fas fa-fish text-teal-400 text-3xl"></i>
                Sistem Pakan Ikan Otomatis
                <div class="mqtt-status inline-flex items-center ml-2">
                    <div class="status-dot" id="mqttStatus"></div>
                </div>
            </h1>
            <p class="text-slate-400 mt-2">Dashboard Monitoring & Control System</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

            <article class="card p-6 rounded-xl">
                <header class="mb-6">
                    <h3 class="text-xl font-bold flex items-center gap-3 text-teal-400 mb-2">
                        <i class="fas fa-chart-line"></i> Status Sistem
                    </h3>
                    <p class="text-slate-400 text-sm">Monitor status pakan, level air, kualitas air, dan suhu.</p>
                </header>

                <div class="space-y-4">
                    <div class="gauge-container p-4 rounded-lg">
                        <h5 class="text-sm font-semibold text-teal-400 mb-3">
                            <i class="fas fa-seedling mr-2"></i>Status Pakan
                        </h5>
                        <div class="boolean-status flex items-center gap-3 p-3 rounded-lg font-semibold text-sm"
                            id="foodStatus">
                            <i class="fas fa-check-circle"></i>
                            <span id="foodStatusText">Tersedia</span>
                        </div>
                    </div>

                    <div class="gauge-container p-4 rounded-lg flex items-center gap-4">
                        <canvas id="waterLevelGauge" class="w-16 h-16"></canvas>
                        <div class="flex-1">
                            <h5 class="text-sm font-semibold text-teal-400 mb-1">
                                <i class="fas fa-tint mr-2"></i>Level Air
                            </h5>
                            <div class="flex items-baseline gap-2 mb-2">
                                <span id="waterLevelValue" class="text-2xl font-bold text-slate-100">50</span>
                                <small class="text-slate-400">cm</small>
                            </div>
                            <div class="status-indicator px-3 py-1 rounded-full text-xs font-semibold"
                                id="waterLevelStatus">Mengukur...</div>
                        </div>
                    </div>

                    <div class="gauge-container p-4 rounded-lg flex items-center gap-4">
                        <canvas id="turbidityGauge" class="w-16 h-16"></canvas>
                        <div class="flex-1">
                            <h5 class="text-sm font-semibold text-teal-400 mb-1">
                                <i class="fas fa-eye mr-2"></i>Kekeruhan Air
                            </h5>
                            <div class="flex items-baseline gap-2 mb-2">
                                <span id="turbidityValue" class="text-2xl font-bold text-slate-100">0.0</span>
                                <small class="text-slate-400">NTU</small>
                            </div>
                            <div class="status-indicator px-3 py-1 rounded-full text-xs font-semibold"
                                id="turbidityStatus">Mengukur...</div>
                        </div>
                    </div>

                    <div class="gauge-container p-4 rounded-lg flex items-center gap-4">
                        <canvas id="temperatureGauge" class="w-16 h-16"></canvas>
                        <div class="flex-1">
                            <h5 class="text-sm font-semibold text-teal-400 mb-1">
                                <i class="fas fa-thermometer-half mr-2"></i>Suhu Air
                            </h5>
                            <div class="flex items-baseline gap-2 mb-2">
                                <span id="temperatureValue" class="text-2xl font-bold text-slate-100">27.0</span>
                                <small class="text-slate-400">°C</small>
                            </div>
                            <div class="status-indicator px-3 py-1 rounded-full text-xs font-semibold"
                                id="temperatureStatus">Mengukur...</div>
                        </div>
                    </div>
                </div>
            </article>

            <article class="card p-6 rounded-xl">
                <header class="mb-6">
                    <h3 class="text-xl font-bold flex items-center gap-3 text-teal-400 mb-2">
                        <i class="fas fa-clock"></i> Jadwal Pakan Otomatis
                    </h3>
                    <p class="text-slate-400 text-sm">Atur jadwal pemberian pakan otomatis untuk ikan Anda (3 kali
                        sehari).</p>
                </header>

                <div class="space-y-4 mb-6">
                    <div class="space-y-2">
                        <label for="morning-time" class="block text-sm font-semibold text-teal-400">
                            <i class="fas fa-sun mr-2"></i>Pagi
                        </label>
                        <input type="time" id="morning-time" class="schedule-time w-full p-3 rounded-lg text-sm"
                            value="09:00" data-index="0">
                    </div>
                    <div class="space-y-2">
                        <label for="evening-time" class="block text-sm font-semibold text-teal-400">
                            <i class="fas fa-cloud-sun mr-2"></i>Sore
                        </label>
                        <input type="time" id="evening-time" class="schedule-time w-full p-3 rounded-lg text-sm"
                            value="15:00" data-index="1">
                    </div>
                    <div class="space-y-2">
                        <label for="night-time" class="block text-sm font-semibold text-teal-400">
                            <i class="fas fa-moon mr-2"></i>Malam
                        </label>
                        <input type="time" id="night-time" class="schedule-time w-full p-3 rounded-lg text-sm"
                            value="20:00" data-index="2">
                    </div>
                </div>

                <div class="space-y-3">
                    <button id="saveScheduleButton" class="btn-secondary w-full py-3 rounded-lg font-semibold text-sm">
                        <i class="fas fa-save mr-2"></i> Simpan Jadwal
                    </button>

                    <button id="feedButton" class="btn-primary w-full py-3 text-white rounded-lg font-bold text-sm">
                        <i class="fas fa-fish mr-2"></i> Beri Pakan Sekarang
                    </button>
                </div>

                <div id="alertContainer" class="mb-4 mt-4"></div>
            </article>

        </div>
    </main>

    <footer class="text-center py-6 mt-8 text-xs text-slate-500">
        <div class="flex items-center justify-center gap-2 mb-2">
            <i class="fas fa-code text-teal-400"></i>
            <span>© 2025 Kelas Robot. All rights reserved.</span>
        </div>
        <div class="text-slate-600">Powered by IoT & MQTT Technology</div>
    </footer>
    <script src="scripts.js"></script>
</body>

</html>